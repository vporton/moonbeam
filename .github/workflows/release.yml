name: Release

# Using a single file workflow is the preferred solution for our CI over workflow_runs.
# 1. It generates only 1 action item in the list making it more readable
# 2. It includes the PR/Commit text in the action item
# 3. Artifacts are not available between workflows.

# This is only allowing pushes on the moonbeam repo for pull requests.
####### DO NOT CHANGE THIS !! #######
on: ["push"]

jobs:
  check-yarn:
    runs-on: self-hosted
    env:
      CARGO_SCCACHE_VERSION: 0.2.14-alpha.0-parity
      RUSTFLAGS: "-C opt-level=3"
      # MOONBEAM_LOG: info
      # DEBUG: "test*"
    outputs:
      RUSTC: ${{ steps.get-rust-versions.outputs.rustc }}
    steps:
      - name: check yarn
        run: |
          yarn --version
